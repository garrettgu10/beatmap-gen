{"version":3,"file":"js/122.27597f5f.js","mappings":"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","sources":["webpack://webpack-starter/./node_modules/average/src/average.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/brightnesscontrast.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/curves.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/denoise.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/huesaturation.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/noise.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/sepia.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/unsharpmask.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/vibrance.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/adjust/vignette.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/blur/lensblur.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/blur/tiltshift.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/blur/triangleblur.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/blur/zoomblur.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/common.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/fun/colorhalftone.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/fun/dotscreen.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/fun/edgework.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/fun/hexagonalpixelate.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/fun/ink.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/index.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/warp/bulgepinch.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/warp/matrixwarp.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/warp/perspective.js","webpack://webpack-starter/./node_modules/glfx-es6/es/filters/warp/swirl.js","webpack://webpack-starter/./node_modules/glfx-es6/es/index.js","webpack://webpack-starter/./node_modules/glfx-es6/es/matrix.js","webpack://webpack-starter/./node_modules/glfx-es6/es/shader.js","webpack://webpack-starter/./node_modules/glfx-es6/es/spline.js","webpack://webpack-starter/./node_modules/glfx-es6/es/store.js","webpack://webpack-starter/./node_modules/glfx-es6/es/texture.js","webpack://webpack-starter/./node_modules/glfx-es6/es/util.js","webpack://webpack-starter/./node_modules/standarddeviation/index.js"],"sourcesContent":["module.exports = function average(values) {\n    return values.reduce(function (previousValue, currentValue) {\n        return previousValue + currentValue\n    }) / values.length\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (brightness, contrast) {\n  var gl = store.get('gl');\n  gl.brightnessContrast = gl.brightnessContrast || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float brightness;\\\n    uniform float contrast;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      color.rgb += brightness;\\\n      if (contrast > 0.0) {\\\n        color.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;\\\n      } else {\\\n        color.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;\\\n      }\\\n      gl_FragColor = color;\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.brightnessContrast, {\n    brightness: (0, _util.clamp)(-1, brightness, 1),\n    contrast: (0, _util.clamp)(-1, contrast, 1)\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (red, green, blue) {\n  var gl = store.get('gl');\n  // Create the ramp texture\n  red = (0, _util.splineInterpolate)(red);\n  if (arguments.length == 1) {\n    green = blue = red;\n  } else {\n    green = (0, _util.splineInterpolate)(green);\n    blue = (0, _util.splineInterpolate)(blue);\n  }\n  var array = [];\n  for (var i = 0; i < 256; i++) {\n    array.splice(array.length, 0, red[i], green[i], blue[i], 255);\n  }\n  this._.extraTexture.initFromBytes(256, 1, array);\n  this._.extraTexture.use(1);\n\n  gl.curves = gl.curves || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform sampler2D map;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      color.r = texture2D(map, vec2(color.r)).r;\\\n      color.g = texture2D(map, vec2(color.g)).g;\\\n      color.b = texture2D(map, vec2(color.b)).b;\\\n      gl_FragColor = color;\\\n    }\\\n  ');\n\n  gl.curves.textures({\n    map: 1\n  });\n  _util.simpleShader.call(this, gl.curves, {});\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (exponent) {\n  var gl = store.get('gl');\n  // Do a 9x9 bilateral box filter\n  gl.denoise = gl.denoise || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float exponent;\\\n    uniform float strength;\\\n    uniform vec2 texSize;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 center = texture2D(texture, texCoord);\\\n      vec4 color = vec4(0.0);\\\n      float total = 0.0;\\\n      for (float x = -4.0; x <= 4.0; x += 1.0) {\\\n        for (float y = -4.0; y <= 4.0; y += 1.0) {\\\n          vec4 sample = texture2D(texture, texCoord + vec2(x, y) / texSize);\\\n          float weight = 1.0 - abs(dot(sample.rgb - center.rgb, vec3(0.25)));\\\n          weight = pow(weight, exponent);\\\n          color += sample * weight;\\\n          total += weight;\\\n        }\\\n      }\\\n      gl_FragColor = color / total;\\\n    }\\\n  ');\n\n  // Perform two iterations for stronger results\n  for (var i = 0; i < 2; i++) {\n    _util.simpleShader.call(this, gl.denoise, {\n      exponent: Math.max(0, exponent),\n      texSize: [this.width, this.height]\n    });\n  }\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (hue, saturation) {\n  var gl = store.get('gl');\n  gl.hueSaturation = gl.hueSaturation || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float hue;\\\n    uniform float saturation;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      \\\n      /* hue adjustment, wolfram alpha: RotationTransform[angle, {1, 1, 1}][{x, y, z}] */\\\n      float angle = hue * 3.14159265;\\\n      float s = sin(angle), c = cos(angle);\\\n      vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\\\n      float len = length(color.rgb);\\\n      color.rgb = vec3(\\\n        dot(color.rgb, weights.xyz),\\\n        dot(color.rgb, weights.zxy),\\\n        dot(color.rgb, weights.yzx)\\\n      );\\\n      \\\n      /* saturation adjustment */\\\n      float average = (color.r + color.g + color.b) / 3.0;\\\n      if (saturation > 0.0) {\\\n        color.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));\\\n      } else {\\\n        color.rgb += (average - color.rgb) * (-saturation);\\\n      }\\\n      \\\n      gl_FragColor = color;\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.hueSaturation, {\n    hue: (0, _util.clamp)(-1, hue, 1),\n    saturation: (0, _util.clamp)(-1, saturation, 1)\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (amount) {\n  var gl = store.get('gl');\n  gl.noise = gl.noise || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float amount;\\\n    varying vec2 texCoord;\\\n    float rand(vec2 co) {\\\n      return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\\\n    }\\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      \\\n      float diff = (rand(texCoord) - 0.5) * amount;\\\n      color.r += diff;\\\n      color.g += diff;\\\n      color.b += diff;\\\n      \\\n      gl_FragColor = color;\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.noise, {\n    amount: (0, _util.clamp)(0, amount, 1)\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (amount) {\n  var gl = store.get('gl');\n  gl.sepia = gl.sepia || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float amount;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      float r = color.r;\\\n      float g = color.g;\\\n      float b = color.b;\\\n      \\\n      color.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));\\\n      color.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));\\\n      color.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));\\\n      \\\n      gl_FragColor = color;\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.sepia, {\n    amount: (0, _util.clamp)(0, amount, 1)\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (radius, strength) {\n  var gl = store.get('gl');\n  gl.unsharpMask = gl.unsharpMask || new _shader2.default(null, '\\\n    uniform sampler2D blurredTexture;\\\n    uniform sampler2D originalTexture;\\\n    uniform float strength;\\\n    uniform float threshold;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 blurred = texture2D(blurredTexture, texCoord);\\\n      vec4 original = texture2D(originalTexture, texCoord);\\\n      gl_FragColor = mix(blurred, original, 1.0 + strength);\\\n    }\\\n  ');\n\n  // Store a copy of the current texture in the second texture unit\n  this._.extraTexture.ensureFormat(this._.texture);\n  this._.texture.use();\n  this._.extraTexture.drawTo(function () {\n    _shader2.default.getDefaultShader().drawRect();\n  });\n\n  // Blur the current texture, then use the stored texture to detect edges\n  this._.extraTexture.use(1);\n  this.triangleBlur(radius);\n  gl.unsharpMask.textures({\n    originalTexture: 1\n  });\n  _util.simpleShader.call(this, gl.unsharpMask, {\n    strength: strength\n  });\n  this._.extraTexture.unuse(1);\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (amount) {\n  var gl = store.get('gl');\n  gl.vibrance = gl.vibrance || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float amount;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      float average = (color.r + color.g + color.b) / 3.0;\\\n      float mx = max(color.r, max(color.g, color.b));\\\n      float amt = (mx - average) * (-amount * 3.0);\\\n      color.rgb = mix(color.rgb, vec3(mx), amt);\\\n      gl_FragColor = color;\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.vibrance, {\n    amount: (0, _util.clamp)(-1, amount, 1)\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (size, amount) {\n  var gl = store.get('gl');\n  gl.vignette = gl.vignette || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float size;\\\n    uniform float amount;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      \\\n      float dist = distance(texCoord, vec2(0.5, 0.5));\\\n      color.rgb *= smoothstep(0.8, size * 0.799, dist * (amount + size));\\\n      \\\n      gl_FragColor = color;\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.vignette, {\n    size: (0, _util.clamp)(0, size, 1),\n    amount: (0, _util.clamp)(0, amount, 1)\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (radius, brightness, angle) {\n  var gl = store.get('gl');\n  // All averaging is done on values raised to a power to make more obvious bokeh\n  // (we will raise the average to the inverse power at the end to compensate).\n  // Without this the image looks almost like a normal blurred image. This hack is\n  // obviously not realistic, but to accurately simulate this we would need a high\n  // dynamic range source photograph which we don't have.\n  gl.lensBlurPrePass = gl.lensBlurPrePass || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float power;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      color = pow(color, vec4(power));\\\n      gl_FragColor = vec4(color);\\\n    }\\\n  ');\n\n  var common = '\\\n    uniform sampler2D texture0;\\\n    uniform sampler2D texture1;\\\n    uniform vec2 delta0;\\\n    uniform vec2 delta1;\\\n    uniform float power;\\\n    varying vec2 texCoord;\\\n    ' + _common.randomShaderFunc + '\\\n    vec4 sample(vec2 delta) {\\\n      /* randomize the lookup values to hide the fixed number of samples */\\\n      float offset = random(vec3(delta, 151.7182), 0.0);\\\n      \\\n      vec4 color = vec4(0.0);\\\n      float total = 0.0;\\\n      for (float t = 0.0; t <= 30.0; t++) {\\\n        float percent = (t + offset) / 30.0;\\\n        color += texture2D(texture0, texCoord + delta * percent);\\\n        total += 1.0;\\\n      }\\\n      return color / total;\\\n    }\\\n  ';\n\n  gl.lensBlur0 = gl.lensBlur0 || new _shader2.default(null, common + '\\\n    void main() {\\\n      gl_FragColor = sample(delta0);\\\n    }\\\n  ');\n  gl.lensBlur1 = gl.lensBlur1 || new _shader2.default(null, common + '\\\n    void main() {\\\n      gl_FragColor = (sample(delta0) + sample(delta1)) * 0.5;\\\n    }\\\n  ');\n  gl.lensBlur2 = gl.lensBlur2 || new _shader2.default(null, common + '\\\n    void main() {\\\n      vec4 color = (sample(delta0) + 2.0 * texture2D(texture1, texCoord)) / 3.0;\\\n      gl_FragColor = pow(color, vec4(power));\\\n    }\\\n  ').textures({ texture1: 1 });\n\n  // Generate\n  var dir = [];\n  for (var i = 0; i < 3; i++) {\n    var a = angle + i * Math.PI * 2 / 3;\n    dir.push([radius * Math.sin(a) / this.width, radius * Math.cos(a) / this.height]);\n  }\n  var power = Math.pow(10, (0, _util.clamp)(-1, brightness, 1));\n\n  // Remap the texture values, which will help make the bokeh effect\n  _util.simpleShader.call(this, gl.lensBlurPrePass, {\n    power: power\n  });\n\n  // Blur two rhombi in parallel into extraTexture\n  this._.extraTexture.ensureFormat(this._.texture);\n  _util.simpleShader.call(this, gl.lensBlur0, {\n    delta0: dir[0]\n  }, this._.texture, this._.extraTexture);\n  _util.simpleShader.call(this, gl.lensBlur1, {\n    delta0: dir[1],\n    delta1: dir[2]\n  }, this._.extraTexture, this._.extraTexture);\n\n  // Blur the last rhombus and combine with extraTexture\n  _util.simpleShader.call(this, gl.lensBlur0, {\n    delta0: dir[1]\n  });\n  this._.extraTexture.use(1);\n  _util.simpleShader.call(this, gl.lensBlur2, {\n    power: 1 / power,\n    delta0: dir[2]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _common = require('../common');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (startX, startY, endX, endY, blurRadius, gradientRadius) {\n  var gl = store.get('gl');\n  gl.tiltShift = gl.tiltShift || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float blurRadius;\\\n    uniform float gradientRadius;\\\n    uniform vec2 start;\\\n    uniform vec2 end;\\\n    uniform vec2 delta;\\\n    uniform vec2 texSize;\\\n    varying vec2 texCoord;\\\n    ' + _common.randomShaderFunc + '\\\n    void main() {\\\n      vec4 color = vec4(0.0);\\\n      float total = 0.0;\\\n      \\\n      /* randomize the lookup values to hide the fixed number of samples */\\\n      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\\n      \\\n      vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\\\n      float radius = smoothstep(0.0, 1.0, abs(dot(texCoord * texSize - start, normal)) / gradientRadius) * blurRadius;\\\n      for (float t = -30.0; t <= 30.0; t++) {\\\n        float percent = (t + offset - 0.5) / 30.0;\\\n        float weight = 1.0 - abs(percent);\\\n        vec4 sample = texture2D(texture, texCoord + delta / texSize * percent * radius);\\\n        \\\n        /* switch to pre-multiplied alpha to correctly blur transparent images */\\\n        sample.rgb *= sample.a;\\\n        \\\n        color += sample * weight;\\\n        total += weight;\\\n      }\\\n      \\\n      gl_FragColor = color / total;\\\n      \\\n      /* switch back from pre-multiplied alpha */\\\n      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\\\n    }\\\n  ');\n\n  var dx = endX - startX;\n  var dy = endY - startY;\n  var d = Math.sqrt(dx * dx + dy * dy);\n  _util.simpleShader.call(this, gl.tiltShift, {\n    blurRadius: blurRadius,\n    gradientRadius: gradientRadius,\n    start: [startX, startY],\n    end: [endX, endY],\n    delta: [dx / d, dy / d],\n    texSize: [this.width, this.height]\n  });\n  _util.simpleShader.call(this, gl.tiltShift, {\n    blurRadius: blurRadius,\n    gradientRadius: gradientRadius,\n    start: [startX, startY],\n    end: [endX, endY],\n    delta: [-dy / d, dx / d],\n    texSize: [this.width, this.height]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _common = require('../common');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (radius) {\n  var gl = store.get('gl');\n  gl.triangleBlur = gl.triangleBlur || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform vec2 delta;\\\n    varying vec2 texCoord;\\\n    ' + _common.randomShaderFunc + '\\\n    void main() {\\\n      vec4 color = vec4(0.0);\\\n      float total = 0.0;\\\n      \\\n      /* randomize the lookup values to hide the fixed number of samples */\\\n      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\\n      \\\n      for (float t = -30.0; t <= 30.0; t++) {\\\n        float percent = (t + offset - 0.5) / 30.0;\\\n        float weight = 1.0 - abs(percent);\\\n        vec4 sample = texture2D(texture, texCoord + delta * percent);\\\n        \\\n        /* switch to pre-multiplied alpha to correctly blur transparent images */\\\n        sample.rgb *= sample.a;\\\n        \\\n        color += sample * weight;\\\n        total += weight;\\\n      }\\\n      \\\n      gl_FragColor = color / total;\\\n      \\\n      /* switch back from pre-multiplied alpha */\\\n      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.triangleBlur, {\n    delta: [radius / this.width, 0]\n  });\n  _util.simpleShader.call(this, gl.triangleBlur, {\n    delta: [0, radius / this.height]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _common = require('../common');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (centerX, centerY, strength) {\n  var gl = store.get('gl');\n  gl.zoomBlur = gl.zoomBlur || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform vec2 center;\\\n    uniform float strength;\\\n    uniform vec2 texSize;\\\n    varying vec2 texCoord;\\\n    ' + _common.randomShaderFunc + '\\\n    void main() {\\\n      vec4 color = vec4(0.0);\\\n      float total = 0.0;\\\n      vec2 toCenter = center - texCoord * texSize;\\\n      \\\n      /* randomize the lookup values to hide the fixed number of samples */\\\n      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\\n      \\\n      for (float t = 0.0; t <= 40.0; t++) {\\\n        float percent = (t + offset) / 40.0;\\\n        float weight = 4.0 * (percent - percent * percent);\\\n        vec4 sample = texture2D(texture, texCoord + toCenter * percent * strength / texSize);\\\n        \\\n        /* switch to pre-multiplied alpha to correctly blur transparent images */\\\n        sample.rgb *= sample.a;\\\n        \\\n        color += sample * weight;\\\n        total += weight;\\\n      }\\\n      \\\n      gl_FragColor = color / total;\\\n      \\\n      /* switch back from pre-multiplied alpha */\\\n      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.zoomBlur, {\n    center: [centerX, centerY],\n    strength: strength,\n    texSize: [this.width, this.height]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _common = require('../common');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.randomShaderFunc = undefined;\nexports.warpShader = warpShader;\n\nvar _shader = require('../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction warpShader(uniforms, warp) {\n  return new _shader2.default(null, uniforms + '\\\n    uniform sampler2D texture;\\\n    uniform vec2 texSize;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec2 coord = texCoord * texSize;\\\n      ' + warp + '\\\n      gl_FragColor = texture2D(texture, coord / texSize);\\\n      vec2 clampedCoord = clamp(coord, vec2(0.0), texSize);\\\n      if (coord != clampedCoord) {\\\n        /* fade to transparent if we are outside the image */\\\n        gl_FragColor.a *= max(0.0, 1.0 - length(coord - clampedCoord));\\\n      }\\\n    }');\n}\n\n// returns a random number between 0 and 1\nvar randomShaderFunc = exports.randomShaderFunc = '\\\n  float random(vec3 scale, float seed) {\\\n    /* use the fragment position for a different seed per-pixel */\\\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\\\n  }\\\n';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (centerX, centerY, angle, size) {\n  var gl = store.get('gl');\n  gl.colorHalftone = gl.colorHalftone || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform vec2 center;\\\n    uniform float angle;\\\n    uniform float scale;\\\n    uniform vec2 texSize;\\\n    varying vec2 texCoord;\\\n    \\\n    float pattern(float angle) {\\\n      float s = sin(angle), c = cos(angle);\\\n      vec2 tex = texCoord * texSize - center;\\\n      vec2 point = vec2(\\\n        c * tex.x - s * tex.y,\\\n        s * tex.x + c * tex.y\\\n      ) * scale;\\\n      return (sin(point.x) * sin(point.y)) * 4.0;\\\n    }\\\n    \\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      vec3 cmy = 1.0 - color.rgb;\\\n      float k = min(cmy.x, min(cmy.y, cmy.z));\\\n      cmy = (cmy - k) / (1.0 - k);\\\n      cmy = clamp(cmy * 10.0 - 3.0 + vec3(pattern(angle + 0.26179), pattern(angle + 1.30899), pattern(angle)), 0.0, 1.0);\\\n      k = clamp(k * 10.0 - 5.0 + pattern(angle + 0.78539), 0.0, 1.0);\\\n      gl_FragColor = vec4(1.0 - cmy - k, color.a);\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.colorHalftone, {\n    center: [centerX, centerY],\n    angle: angle,\n    scale: Math.PI / size,\n    texSize: [this.width, this.height]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (centerX, centerY, angle, size) {\n  var gl = store.get('gl');\n  gl.dotScreen = gl.dotScreen || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform vec2 center;\\\n    uniform float angle;\\\n    uniform float scale;\\\n    uniform vec2 texSize;\\\n    varying vec2 texCoord;\\\n    \\\n    float pattern() {\\\n      float s = sin(angle), c = cos(angle);\\\n      vec2 tex = texCoord * texSize - center;\\\n      vec2 point = vec2(\\\n        c * tex.x - s * tex.y,\\\n        s * tex.x + c * tex.y\\\n      ) * scale;\\\n      return (sin(point.x) * sin(point.y)) * 4.0;\\\n    }\\\n    \\\n    void main() {\\\n      vec4 color = texture2D(texture, texCoord);\\\n      float average = (color.r + color.g + color.b) / 3.0;\\\n      gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.dotScreen, {\n    center: [centerX, centerY],\n    angle: angle,\n    scale: Math.PI / size,\n    texSize: [this.width, this.height]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (radius) {\n  var gl = store.get('gl');\n  gl.edgeWork1 = gl.edgeWork1 || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform vec2 delta;\\\n    varying vec2 texCoord;\\\n    ' + _common.randomShaderFunc + '\\\n    void main() {\\\n      vec2 color = vec2(0.0);\\\n      vec2 total = vec2(0.0);\\\n      \\\n      /* randomize the lookup values to hide the fixed number of samples */\\\n      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\\n      \\\n      for (float t = -30.0; t <= 30.0; t++) {\\\n        float percent = (t + offset - 0.5) / 30.0;\\\n        float weight = 1.0 - abs(percent);\\\n        vec3 sample = texture2D(texture, texCoord + delta * percent).rgb;\\\n        float average = (sample.r + sample.g + sample.b) / 3.0;\\\n        color.x += average * weight;\\\n        total.x += weight;\\\n        if (abs(t) < 15.0) {\\\n          weight = weight * 2.0 - 1.0;\\\n          color.y += average * weight;\\\n          total.y += weight;\\\n        }\\\n      }\\\n      gl_FragColor = vec4(color / total, 0.0, 1.0);\\\n    }\\\n  ');\n\n  gl.edgeWork2 = gl.edgeWork2 || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform vec2 delta;\\\n    varying vec2 texCoord;\\\n    ' + _common.randomShaderFunc + '\\\n    void main() {\\\n      vec2 color = vec2(0.0);\\\n      vec2 total = vec2(0.0);\\\n      \\\n      /* randomize the lookup values to hide the fixed number of samples */\\\n      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\\n      \\\n      for (float t = -30.0; t <= 30.0; t++) {\\\n        float percent = (t + offset - 0.5) / 30.0;\\\n        float weight = 1.0 - abs(percent);\\\n        vec2 sample = texture2D(texture, texCoord + delta * percent).xy;\\\n        color.x += sample.x * weight;\\\n        total.x += weight;\\\n        if (abs(t) < 15.0) {\\\n          weight = weight * 2.0 - 1.0;\\\n          color.y += sample.y * weight;\\\n          total.y += weight;\\\n        }\\\n      }\\\n      float c = clamp(10000.0 * (color.y / total.y - color.x / total.x) + 0.5, 0.0, 1.0);\\\n      gl_FragColor = vec4(c, c, c, 1.0);\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.edgeWork1, {\n    delta: [radius / this.width, 0]\n  });\n  _util.simpleShader.call(this, gl.edgeWork2, {\n    delta: [0, radius / this.height]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _common = require('../common');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (centerX, centerY, scale) {\n  var gl = store.get('gl');\n  gl.hexagonalPixelate = gl.hexagonalPixelate || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform vec2 center;\\\n    uniform float scale;\\\n    uniform vec2 texSize;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec2 tex = (texCoord * texSize - center) / scale;\\\n      tex.y /= 0.866025404;\\\n      tex.x -= tex.y * 0.5;\\\n      \\\n      vec2 a;\\\n      if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) a = vec2(floor(tex.x), floor(tex.y));\\\n      else a = vec2(ceil(tex.x), ceil(tex.y));\\\n      vec2 b = vec2(ceil(tex.x), floor(tex.y));\\\n      vec2 c = vec2(floor(tex.x), ceil(tex.y));\\\n      \\\n      vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\\\n      vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\\\n      vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\\\n      vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\\\n      \\\n      float alen = length(TEX - A);\\\n      float blen = length(TEX - B);\\\n      float clen = length(TEX - C);\\\n      \\\n      vec2 choice;\\\n      if (alen < blen) {\\\n        if (alen < clen) choice = a;\\\n        else choice = c;\\\n      } else {\\\n        if (blen < clen) choice = b;\\\n        else choice = c;\\\n      }\\\n      \\\n      choice.x += choice.y * 0.5;\\\n      choice.y *= 0.866025404;\\\n      choice *= scale / texSize;\\\n      gl_FragColor = texture2D(texture, choice + center / texSize);\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.hexagonalPixelate, {\n    center: [centerX, centerY],\n    scale: scale,\n    texSize: [this.width, this.height]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (strength) {\n  var gl = store.get('gl');\n  gl.ink = gl.ink || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    uniform float strength;\\\n    uniform vec2 texSize;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      vec2 dx = vec2(1.0 / texSize.x, 0.0);\\\n      vec2 dy = vec2(0.0, 1.0 / texSize.y);\\\n      vec4 color = texture2D(texture, texCoord);\\\n      float bigTotal = 0.0;\\\n      float smallTotal = 0.0;\\\n      vec3 bigAverage = vec3(0.0);\\\n      vec3 smallAverage = vec3(0.0);\\\n      for (float x = -2.0; x <= 2.0; x += 1.0) {\\\n        for (float y = -2.0; y <= 2.0; y += 1.0) {\\\n          vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\\\n          bigAverage += sample;\\\n          bigTotal += 1.0;\\\n          if (abs(x) + abs(y) < 2.0) {\\\n            smallAverage += sample;\\\n            smallTotal += 1.0;\\\n          }\\\n        }\\\n      }\\\n      vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\\\n      gl_FragColor = vec4(color.rgb - dot(edge, edge) * strength * 100000.0, color.a);\\\n    }\\\n  ');\n\n  _util.simpleShader.call(this, gl.ink, {\n    strength: strength * strength * strength * strength * strength,\n    texSize: [this.width, this.height]\n  });\n\n  return this;\n};\n\nvar _shader = require('../../shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _brightnesscontrast = require('./adjust/brightnesscontrast');\n\nObject.defineProperty(exports, 'brightnessContrast', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_brightnesscontrast).default;\n  }\n});\n\nvar _curves = require('./adjust/curves');\n\nObject.defineProperty(exports, 'curves', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_curves).default;\n  }\n});\n\nvar _denoise = require('./adjust/denoise');\n\nObject.defineProperty(exports, 'denoise', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_denoise).default;\n  }\n});\n\nvar _huesaturation = require('./adjust/huesaturation');\n\nObject.defineProperty(exports, 'hueSaturation', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_huesaturation).default;\n  }\n});\n\nvar _noise = require('./adjust/noise');\n\nObject.defineProperty(exports, 'noise', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_noise).default;\n  }\n});\n\nvar _sepia = require('./adjust/sepia');\n\nObject.defineProperty(exports, 'sepia', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_sepia).default;\n  }\n});\n\nvar _unsharpmask = require('./adjust/unsharpmask');\n\nObject.defineProperty(exports, 'unsharpMask', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_unsharpmask).default;\n  }\n});\n\nvar _vibrance = require('./adjust/vibrance');\n\nObject.defineProperty(exports, 'vibrance', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_vibrance).default;\n  }\n});\n\nvar _vignette = require('./adjust/vignette');\n\nObject.defineProperty(exports, 'vignette', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_vignette).default;\n  }\n});\n\nvar _lensblur = require('./blur/lensblur');\n\nObject.defineProperty(exports, 'lensBlur', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_lensblur).default;\n  }\n});\n\nvar _tiltshift = require('./blur/tiltshift');\n\nObject.defineProperty(exports, 'tiltShift', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_tiltshift).default;\n  }\n});\n\nvar _triangleblur = require('./blur/triangleblur');\n\nObject.defineProperty(exports, 'triangleBlur', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_triangleblur).default;\n  }\n});\n\nvar _zoomblur = require('./blur/zoomblur');\n\nObject.defineProperty(exports, 'zoomBlur', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_zoomblur).default;\n  }\n});\n\nvar _colorhalftone = require('./fun/colorhalftone');\n\nObject.defineProperty(exports, 'colorHalftone', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_colorhalftone).default;\n  }\n});\n\nvar _dotscreen = require('./fun/dotscreen');\n\nObject.defineProperty(exports, 'dotScreen', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dotscreen).default;\n  }\n});\n\nvar _edgework = require('./fun/edgework');\n\nObject.defineProperty(exports, 'edgeWork', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_edgework).default;\n  }\n});\n\nvar _hexagonalpixelate = require('./fun/hexagonalpixelate');\n\nObject.defineProperty(exports, 'hexagonalPixelate', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_hexagonalpixelate).default;\n  }\n});\n\nvar _ink = require('./fun/ink');\n\nObject.defineProperty(exports, 'ink', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ink).default;\n  }\n});\n\nvar _bulgepinch = require('./warp/bulgepinch');\n\nObject.defineProperty(exports, 'bulgePinch', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_bulgepinch).default;\n  }\n});\n\nvar _matrixwarp = require('./warp/matrixwarp');\n\nObject.defineProperty(exports, 'matrixWarp', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_matrixwarp).default;\n  }\n});\n\nvar _perspective = require('./warp/perspective');\n\nObject.defineProperty(exports, 'perspective', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_perspective).default;\n  }\n});\n\nvar _swirl = require('./warp/swirl');\n\nObject.defineProperty(exports, 'swirl', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_swirl).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (centerX, centerY, radius, strength) {\n  var gl = store.get('gl');\n  gl.bulgePinch = gl.bulgePinch || (0, _common.warpShader)('\\\n    uniform float radius;\\\n    uniform float strength;\\\n    uniform vec2 center;\\\n  ', '\\\n    coord -= center;\\\n    float distance = length(coord);\\\n    if (distance < radius) {\\\n      float percent = distance / radius;\\\n      if (strength > 0.0) {\\\n        coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\\\n      } else {\\\n        coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\\\n      }\\\n    }\\\n    coord += center;\\\n  ');\n\n  _util.simpleShader.call(this, gl.bulgePinch, {\n    radius: radius,\n    strength: (0, _util.clamp)(-1, strength, 1),\n    center: [centerX, centerY],\n    texSize: [this.width, this.height]\n  });\n\n  return this;\n};\n\nvar _common = require('../common');\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (matrix, inverse, useTextureSpace) {\n  var gl = store.get('gl');\n  gl.matrixWarp = gl.matrixWarp || (0, _common.warpShader)('\\\n    uniform mat3 matrix;\\\n    uniform bool useTextureSpace;\\\n  ', '\\\n    if (useTextureSpace) coord = coord / texSize * 2.0 - 1.0;\\\n    vec3 warp = matrix * vec3(coord, 1.0);\\\n    coord = warp.xy / warp.z;\\\n    if (useTextureSpace) coord = (coord * 0.5 + 0.5) * texSize;\\\n  ');\n\n  // Flatten all members of matrix into one big list\n  matrix = Array.prototype.concat.apply([], matrix);\n\n  // Extract a 3x3 matrix out of the arguments\n  if (matrix.length == 4) {\n    matrix = [matrix[0], matrix[1], 0, matrix[2], matrix[3], 0, 0, 0, 1];\n  } else if (matrix.length != 9) {\n    throw 'can only warp with 2x2 or 3x3 matrix';\n  }\n\n  _util.simpleShader.call(this, gl.matrixWarp, {\n    matrix: inverse ? (0, _matrix.getInverse)(matrix) : matrix,\n    texSize: [this.width, this.height],\n    useTextureSpace: useTextureSpace | 0\n  });\n\n  return this;\n};\n\nvar _common = require('../common');\n\nvar _matrix = require('../../matrix');\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (before, after) {\n  var a = _matrix.getSquareToQuad.apply(null, after);\n  var b = _matrix.getSquareToQuad.apply(null, before);\n  var c = (0, _matrix.multiply)((0, _matrix.getInverse)(a), b);\n  return this.matrixWarp(c);\n};\n\nvar _matrix = require('../../matrix');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (centerX, centerY, radius, angle) {\n  var gl = store.get('gl');\n  gl.swirl = gl.swirl || (0, _common.warpShader)('\\\n    uniform float radius;\\\n    uniform float angle;\\\n    uniform vec2 center;\\\n  ', '\\\n    coord -= center;\\\n    float distance = length(coord);\\\n    if (distance < radius) {\\\n      float percent = (radius - distance) / radius;\\\n      float theta = percent * percent * angle;\\\n      float s = sin(theta);\\\n      float c = cos(theta);\\\n      coord = vec2(\\\n        coord.x * c - coord.y * s,\\\n        coord.x * s + coord.y * c\\\n      );\\\n    }\\\n    coord += center;\\\n  ');\n\n  _util.simpleShader.call(this, gl.swirl, {\n    radius: radius,\n    center: [centerX, centerY],\n    angle: angle,\n    texSize: [this.width, this.height]\n  });\n\n  return this;\n};\n\nvar _common = require('../common');\n\nvar _util = require('../../util');\n\nvar _store = require('../../store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.splineInterpolate = undefined;\n\nvar _util = require('./util');\n\nObject.defineProperty(exports, 'splineInterpolate', {\n  enumerable: true,\n  get: function get() {\n    return _util.splineInterpolate;\n  }\n});\nexports.canvas = canvas;\n\nvar _store = require('./store');\n\nvar store = _interopRequireWildcard(_store);\n\nvar _texture = require('./texture');\n\nvar _texture2 = _interopRequireDefault(_texture);\n\nvar _shader = require('./shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nvar _filters = require('./filters');\n\nvar filters = _interopRequireWildcard(_filters);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction wrapTexture(texture) {\n  return {\n    _: texture,\n    loadContentsOf: function loadContentsOf(element) {\n      // Make sure that we're using the correct global WebGL context\n      store.set({ gl: this._.gl });\n      this._.loadContentsOf(element);\n    },\n    destroy: function destroy() {\n      // Make sure that we're using the correct global WebGL context\n      store.set({ gl: this._.gl });\n      this._.destroy();\n    }\n  };\n}\n\nfunction texture(element) {\n  return wrapTexture(_texture2.default.fromElement(element));\n}\n\nfunction initialize(width, height) {\n  var gl = store.get('gl');\n  var type = gl.UNSIGNED_BYTE;\n\n  // Go for floating point buffer textures if we can, it'll make the bokeh\n  // filter look a lot better. Note that on Windows, ANGLE does not let you\n  // render to a floating-point texture when linear filtering is enabled.\n  // See http://crbug.com/172278 for more information.\n  if (gl.getExtension('OES_texture_float') && gl.getExtension('OES_texture_float_linear')) {\n    var testTexture = new _texture2.default(100, 100, gl.RGBA, gl.FLOAT);\n    try {\n      // Only use gl.FLOAT if we can render to it\n      testTexture.drawTo(function () {\n        type = gl.FLOAT;\n      });\n    } catch (e) {}\n    testTexture.destroy();\n  }\n\n  if (this._.texture) this._.texture.destroy();\n  if (this._.spareTexture) this._.spareTexture.destroy();\n  this.width = width;\n  this.height = height;\n  this._.texture = new _texture2.default(width, height, gl.RGBA, type);\n  this._.spareTexture = new _texture2.default(width, height, gl.RGBA, type);\n  this._.extraTexture = this._.extraTexture || new _texture2.default(0, 0, gl.RGBA, type);\n  this._.flippedShader = this._.flippedShader || new _shader2.default(null, '\\\n    uniform sampler2D texture;\\\n    varying vec2 texCoord;\\\n    void main() {\\\n      gl_FragColor = texture2D(texture, vec2(texCoord.x, 1.0 - texCoord.y));\\\n    }\\\n  ');\n  this._.isInitialized = true;\n}\n\n/*\n   Draw a texture to the canvas, with an optional width and height to scale to.\n   If no width and height are given then the original texture width and height\n   are used.\n*/\nfunction draw(texture, width, height) {\n  if (!this._.isInitialized || texture._.width != this.width || texture._.height != this.height) {\n    initialize.call(this, width ? width : texture._.width, height ? height : texture._.height);\n  }\n\n  texture._.use();\n  this._.texture.drawTo(function () {\n    _shader2.default.getDefaultShader().drawRect();\n  });\n\n  return this;\n}\n\nfunction update() {\n  this._.texture.use();\n  this._.flippedShader.drawRect();\n  return this;\n}\n\nfunction replace(node) {\n  node.parentNode.insertBefore(this, node);\n  node.parentNode.removeChild(node);\n  return this;\n}\n\nfunction contents() {\n  var gl = store.get('gl');\n  var texture = new _texture2.default(this._.texture.width, this._.texture.height, gl.RGBA, gl.UNSIGNED_BYTE);\n  this._.texture.use();\n  texture.drawTo(function () {\n    _shader2.default.getDefaultShader().drawRect();\n  });\n  return wrapTexture(texture);\n}\n\n/*\n   Get a Uint8 array of pixel values: [r, g, b, a, r, g, b, a, ...]\n   Length of the array will be width * height * 4.\n*/\nfunction getPixelArray() {\n  var gl = store.get('gl');\n  var w = this._.texture.width;\n  var h = this._.texture.height;\n  var array = new Uint8Array(w * h * 4);\n  this._.texture.drawTo(function () {\n    gl.readPixels(0, 0, w, h, gl.RGBA, gl.UNSIGNED_BYTE, array);\n  });\n  return array;\n}\n\nfunction wrap(func) {\n  return function () {\n    // Make sure that we're using the correct global WebGL context\n    store.set({ gl: this._.gl });\n\n    // Now that the context has been switched, we can call the wrapped function\n    return func.apply(this, arguments);\n  };\n}\n\nfunction canvas() {\n  var canvas = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('canvas');\n\n  try {\n    store.set({ gl: canvas.getContext('experimental-webgl', { premultipliedAlpha: false }) });\n  } catch (e) {\n    store.set({ gl: null });\n  }\n  var gl = store.get('gl');\n  if (!gl) {\n    throw 'This browser does not support WebGL';\n  }\n  canvas._ = {\n    gl: gl,\n    isInitialized: false,\n    texture: null,\n    spareTexture: null,\n    flippedShader: null\n  };\n\n  // Core methods\n  canvas.texture = wrap(texture);\n  canvas.draw = wrap(draw);\n  canvas.update = wrap(update);\n  canvas.replace = wrap(replace);\n  canvas.contents = wrap(contents);\n  canvas.getPixelArray = wrap(getPixelArray);\n\n  // // Filter methods\n  canvas.brightnessContrast = wrap(filters.brightnessContrast);\n  canvas.hexagonalPixelate = wrap(filters.hexagonalPixelate);\n  canvas.hueSaturation = wrap(filters.hueSaturation);\n  canvas.colorHalftone = wrap(filters.colorHalftone);\n  canvas.triangleBlur = wrap(filters.triangleBlur);\n  canvas.unsharpMask = wrap(filters.unsharpMask);\n  canvas.perspective = wrap(filters.perspective);\n  canvas.matrixWarp = wrap(filters.matrixWarp);\n  canvas.bulgePinch = wrap(filters.bulgePinch);\n  canvas.tiltShift = wrap(filters.tiltShift);\n  canvas.dotScreen = wrap(filters.dotScreen);\n  canvas.edgeWork = wrap(filters.edgeWork);\n  canvas.lensBlur = wrap(filters.lensBlur);\n  canvas.zoomBlur = wrap(filters.zoomBlur);\n  canvas.noise = wrap(filters.noise);\n  canvas.denoise = wrap(filters.denoise);\n  canvas.curves = wrap(filters.curves);\n  canvas.swirl = wrap(filters.swirl);\n  canvas.ink = wrap(filters.ink);\n  canvas.vignette = wrap(filters.vignette);\n  canvas.vibrance = wrap(filters.vibrance);\n  canvas.sepia = wrap(filters.sepia);\n\n  return canvas;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSquareToQuad = getSquareToQuad;\nexports.getInverse = getInverse;\nexports.multiply = multiply;\n// from javax.media.jai.PerspectiveTransform\n\nfunction getSquareToQuad(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var dx1 = x1 - x2;\n  var dy1 = y1 - y2;\n  var dx2 = x3 - x2;\n  var dy2 = y3 - y2;\n  var dx3 = x0 - x1 + x2 - x3;\n  var dy3 = y0 - y1 + y2 - y3;\n  var det = dx1 * dy2 - dx2 * dy1;\n  var a = (dx3 * dy2 - dx2 * dy3) / det;\n  var b = (dx1 * dy3 - dx3 * dy1) / det;\n  return [x1 - x0 + a * x1, y1 - y0 + a * y1, a, x3 - x0 + b * x3, y3 - y0 + b * y3, b, x0, y0, 1];\n}\n\nfunction getInverse(m) {\n  var a = m[0],\n      b = m[1],\n      c = m[2];\n  var d = m[3],\n      e = m[4],\n      f = m[5];\n  var g = m[6],\n      h = m[7],\n      i = m[8];\n  var det = a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n  return [(e * i - f * h) / det, (c * h - b * i) / det, (b * f - c * e) / det, (f * g - d * i) / det, (a * i - c * g) / det, (c * d - a * f) / det, (d * h - e * g) / det, (b * g - a * h) / det, (a * e - b * d) / det];\n}\n\nfunction multiply(a, b) {\n  return [a[0] * b[0] + a[1] * b[3] + a[2] * b[6], a[0] * b[1] + a[1] * b[4] + a[2] * b[7], a[0] * b[2] + a[1] * b[5] + a[2] * b[8], a[3] * b[0] + a[4] * b[3] + a[5] * b[6], a[3] * b[1] + a[4] * b[4] + a[5] * b[7], a[3] * b[2] + a[4] * b[5] + a[5] * b[8], a[6] * b[0] + a[7] * b[3] + a[8] * b[6], a[6] * b[1] + a[7] * b[4] + a[8] * b[7], a[6] * b[2] + a[7] * b[5] + a[8] * b[8]];\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _store = require('./store');\n\nvar store = _interopRequireWildcard(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultVertexSource = '\\\nattribute vec2 vertex;\\\nattribute vec2 _texCoord;\\\nvarying vec2 texCoord;\\\nvoid main() {\\\n  texCoord = _texCoord;\\\n  gl_Position = vec4(vertex * 2.0 - 1.0, 0.0, 1.0);\\\n}';\n\nvar defaultFragmentSource = '\\\nuniform sampler2D texture;\\\nvarying vec2 texCoord;\\\nvoid main() {\\\n  gl_FragColor = texture2D(texture, texCoord);\\\n}';\n\nvar Shader = function () {\n  _createClass(Shader, null, [{\n    key: 'getDefaultShader',\n    value: function getDefaultShader() {\n      var gl = store.get('gl');\n      gl.defaultShader = gl.defaultShader || new Shader();\n      return gl.defaultShader;\n    }\n  }]);\n\n  function Shader(vertexSource, fragmentSource) {\n    _classCallCheck(this, Shader);\n\n    var gl = store.get('gl');\n    this.vertexAttribute = null;\n    this.texCoordAttribute = null;\n    this.program = gl.createProgram();\n    vertexSource = vertexSource || defaultVertexSource;\n    fragmentSource = fragmentSource || defaultFragmentSource;\n    fragmentSource = 'precision highp float;' + fragmentSource; // annoying requirement is annoying\n    gl.attachShader(this.program, compileSource(gl.VERTEX_SHADER, vertexSource));\n    gl.attachShader(this.program, compileSource(gl.FRAGMENT_SHADER, fragmentSource));\n    gl.linkProgram(this.program);\n    if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n      throw 'link error: ' + gl.getProgramInfoLog(this.program);\n    }\n  }\n\n  _createClass(Shader, [{\n    key: 'destroy',\n    value: function destroy() {\n      var gl = store.get('gl');\n      gl.deleteProgram(this.program);\n      this.program = null;\n    }\n  }, {\n    key: 'uniforms',\n    value: function uniforms(_uniforms) {\n      var gl = store.get('gl');\n      gl.useProgram(this.program);\n      for (var name in _uniforms) {\n        if (!_uniforms.hasOwnProperty(name)) continue;\n        var location = gl.getUniformLocation(this.program, name);\n        if (location === null) continue; // will be null if the uniform isn't used in the shader\n        var value = _uniforms[name];\n        if (isArray(value)) {\n          switch (value.length) {\n            case 1:\n              gl.uniform1fv(location, new Float32Array(value));break;\n            case 2:\n              gl.uniform2fv(location, new Float32Array(value));break;\n            case 3:\n              gl.uniform3fv(location, new Float32Array(value));break;\n            case 4:\n              gl.uniform4fv(location, new Float32Array(value));break;\n            case 9:\n              gl.uniformMatrix3fv(location, false, new Float32Array(value));break;\n            case 16:\n              gl.uniformMatrix4fv(location, false, new Float32Array(value));break;\n            default:\n              throw 'dont\\'t know how to load uniform \"' + name + '\" of length ' + value.length;\n          }\n        } else if (isNumber(value)) {\n          gl.uniform1f(location, value);\n        } else {\n          throw 'attempted to set uniform \"' + name + '\" to invalid value ' + (value || 'undefined').toString();\n        }\n      }\n      // allow chaining\n      return this;\n    }\n\n    // textures are uniforms too but for some reason can't be specified by gl.uniform1f,\n    // even though floating point numbers represent the integers 0 through 7 exactly\n\n  }, {\n    key: 'textures',\n    value: function textures(_textures) {\n      var gl = store.get('gl');\n      gl.useProgram(this.program);\n      for (var name in _textures) {\n        if (!_textures.hasOwnProperty(name)) continue;\n        gl.uniform1i(gl.getUniformLocation(this.program, name), _textures[name]);\n      }\n      // allow chaining\n      return this;\n    }\n  }, {\n    key: 'drawRect',\n    value: function drawRect(left, top, right, bottom) {\n      var gl = store.get('gl');\n      var viewport = gl.getParameter(gl.VIEWPORT);\n      top = top !== undefined ? (top - viewport[1]) / viewport[3] : 0;\n      left = left !== undefined ? (left - viewport[0]) / viewport[2] : 0;\n      right = right !== undefined ? (right - viewport[0]) / viewport[2] : 1;\n      bottom = bottom !== undefined ? (bottom - viewport[1]) / viewport[3] : 1;\n      if (gl.vertexBuffer == null) {\n        gl.vertexBuffer = gl.createBuffer();\n      }\n      gl.bindBuffer(gl.ARRAY_BUFFER, gl.vertexBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([left, top, left, bottom, right, top, right, bottom]), gl.STATIC_DRAW);\n      if (gl.texCoordBuffer == null) {\n        gl.texCoordBuffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, gl.texCoordBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]), gl.STATIC_DRAW);\n      }\n      if (this.vertexAttribute == null) {\n        this.vertexAttribute = gl.getAttribLocation(this.program, 'vertex');\n        gl.enableVertexAttribArray(this.vertexAttribute);\n      }\n      if (this.texCoordAttribute == null) {\n        this.texCoordAttribute = gl.getAttribLocation(this.program, '_texCoord');\n        gl.enableVertexAttribArray(this.texCoordAttribute);\n      }\n      gl.useProgram(this.program);\n      gl.bindBuffer(gl.ARRAY_BUFFER, gl.vertexBuffer);\n      gl.vertexAttribPointer(this.vertexAttribute, 2, gl.FLOAT, false, 0, 0);\n      gl.bindBuffer(gl.ARRAY_BUFFER, gl.texCoordBuffer);\n      gl.vertexAttribPointer(this.texCoordAttribute, 2, gl.FLOAT, false, 0, 0);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n  }]);\n\n  return Shader;\n}();\n\nexports.default = Shader;\n\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) == '[object Array]';\n}\n\nfunction isNumber(obj) {\n  return Object.prototype.toString.call(obj) == '[object Number]';\n}\n\nfunction compileSource(type, source) {\n  var gl = store.get('gl');\n  var shader = gl.createShader(type);\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    throw 'compile error: ' + gl.getShaderInfoLog(shader);\n  }\n  return shader;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// from SplineInterpolator.cs in the Paint.NET source code\n\nvar SplineInterpolator = function () {\n  function SplineInterpolator(points) {\n    _classCallCheck(this, SplineInterpolator);\n\n    var n = points.length;\n    this.xa = [];\n    this.ya = [];\n    this.u = [];\n    this.y2 = [];\n\n    points.sort(function (a, b) {\n      return a[0] - b[0];\n    });\n    for (var i = 0; i < n; i++) {\n      this.xa.push(points[i][0]);\n      this.ya.push(points[i][1]);\n    }\n\n    this.u[0] = 0;\n    this.y2[0] = 0;\n\n    for (var i = 1; i < n - 1; ++i) {\n      // This is the decomposition loop of the tridiagonal algorithm.\n      // y2 and u are used for temporary storage of the decomposed factors.\n      var wx = this.xa[i + 1] - this.xa[i - 1];\n      var sig = (this.xa[i] - this.xa[i - 1]) / wx;\n      var p = sig * this.y2[i - 1] + 2.0;\n\n      this.y2[i] = (sig - 1.0) / p;\n\n      var ddydx = (this.ya[i + 1] - this.ya[i]) / (this.xa[i + 1] - this.xa[i]) - (this.ya[i] - this.ya[i - 1]) / (this.xa[i] - this.xa[i - 1]);\n\n      this.u[i] = (6.0 * ddydx / wx - sig * this.u[i - 1]) / p;\n    }\n\n    this.y2[n - 1] = 0;\n\n    // This is the backsubstitution loop of the tridiagonal algorithm\n    for (var i = n - 2; i >= 0; --i) {\n      this.y2[i] = this.y2[i] * this.y2[i + 1] + this.u[i];\n    }\n  }\n\n  _createClass(SplineInterpolator, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var n = this.ya.length;\n      var klo = 0;\n      var khi = n - 1;\n\n      // We will find the right place in the table by means of\n      // bisection. This is optimal if sequential calls to this\n      // routine are at random values of x. If sequential calls\n      // are in order, and closely spaced, one would do better\n      // to store previous values of klo and khi.\n      while (khi - klo > 1) {\n        var k = khi + klo >> 1;\n\n        if (this.xa[k] > x) {\n          khi = k;\n        } else {\n          klo = k;\n        }\n      }\n\n      var h = this.xa[khi] - this.xa[klo];\n      var a = (this.xa[khi] - x) / h;\n      var b = (x - this.xa[klo]) / h;\n\n      // Cubic spline polynomial is now evaluated.\n      return a * this.ya[klo] + b * this.ya[khi] + ((a * a * a - a) * this.y2[klo] + (b * b * b - b) * this.y2[khi]) * (h * h) / 6.0;\n    }\n  }]);\n\n  return SplineInterpolator;\n}();\n\nexports.default = SplineInterpolator;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.set = set;\nexports.get = get;\nvar store = {};\n\nfunction set(obj) {\n  store = Object.assign(store, obj);\n}\n\nfunction get(key) {\n  return store[key];\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _store = require('./store');\n\nvar store = _interopRequireWildcard(_store);\n\nvar _shader = require('./shader');\n\nvar _shader2 = _interopRequireDefault(_shader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar canvas = null;\n\nvar Texture = function () {\n  _createClass(Texture, null, [{\n    key: 'fromElement',\n    value: function fromElement(element) {\n      var gl = store.get('gl');\n      var texture = new Texture(0, 0, gl.RGBA, gl.UNSIGNED_BYTE);\n      texture.loadContentsOf(element);\n      return texture;\n    }\n  }]);\n\n  function Texture(width, height, format, type) {\n    _classCallCheck(this, Texture);\n\n    var gl = store.get('gl');\n    this.gl = gl;\n    this.id = gl.createTexture();\n    this.width = width;\n    this.height = height;\n    this.format = format;\n    this.type = type;\n\n    gl.bindTexture(gl.TEXTURE_2D, this.id);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    if (width && height) gl.texImage2D(gl.TEXTURE_2D, 0, this.format, width, height, 0, this.format, this.type, null);\n  }\n\n  _createClass(Texture, [{\n    key: 'loadContentsOf',\n    value: function loadContentsOf(element) {\n      var gl = store.get('gl');\n      this.width = element.width || element.videoWidth;\n      this.height = element.height || element.videoHeight;\n      gl.bindTexture(gl.TEXTURE_2D, this.id);\n      gl.texImage2D(gl.TEXTURE_2D, 0, this.format, this.format, this.type, element);\n    }\n  }, {\n    key: 'initFromBytes',\n    value: function initFromBytes(width, height, data) {\n      var gl = store.get('gl');\n      this.width = width;\n      this.height = height;\n      this.format = gl.RGBA;\n      this.type = gl.UNSIGNED_BYTE;\n      gl.bindTexture(gl.TEXTURE_2D, this.id);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, this.type, new Uint8Array(data));\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var gl = store.get('gl');\n      gl.deleteTexture(this.id);\n      this.id = null;\n    }\n  }, {\n    key: 'use',\n    value: function use(unit) {\n      var gl = store.get('gl');\n      gl.activeTexture(gl.TEXTURE0 + (unit || 0));\n      gl.bindTexture(gl.TEXTURE_2D, this.id);\n    }\n  }, {\n    key: 'unuse',\n    value: function unuse(unit) {\n      var gl = store.get('gl');\n      gl.activeTexture(gl.TEXTURE0 + (unit || 0));\n      gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n  }, {\n    key: 'ensureFormat',\n    value: function ensureFormat(width, height, format, type) {\n      // allow passing an existing texture instead of individual arguments\n      if (arguments.length == 1) {\n        var texture = arguments[0];\n        width = texture.width;\n        height = texture.height;\n        format = texture.format;\n        type = texture.type;\n      }\n\n      // change the format only if required\n      if (width != this.width || height != this.height || format != this.format || type != this.type) {\n        var gl = store.get('gl');\n        this.width = width;\n        this.height = height;\n        this.format = format;\n        this.type = type;\n        gl.bindTexture(gl.TEXTURE_2D, this.id);\n        gl.texImage2D(gl.TEXTURE_2D, 0, this.format, width, height, 0, this.format, this.type, null);\n      }\n    }\n  }, {\n    key: 'drawTo',\n    value: function drawTo(callback) {\n      var gl = store.get('gl');\n      // start rendering to this texture\n      gl.framebuffer = gl.framebuffer || gl.createFramebuffer();\n      gl.bindFramebuffer(gl.FRAMEBUFFER, gl.framebuffer);\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.id, 0);\n      if (gl.checkFramebufferStatus(gl.FRAMEBUFFER) !== gl.FRAMEBUFFER_COMPLETE) {\n        throw new Error('incomplete framebuffer');\n      }\n      gl.viewport(0, 0, this.width, this.height);\n\n      // do the drawing\n      callback();\n\n      // stop rendering to this texture\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    }\n  }, {\n    key: 'fillUsingCanvas',\n    value: function fillUsingCanvas(callback) {\n      callback(getCanvas(this));\n      var gl = store.get('gl');\n      this.format = gl.RGBA;\n      this.type = gl.UNSIGNED_BYTE;\n      gl.bindTexture(gl.TEXTURE_2D, this.id);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, canvas);\n      return this;\n    }\n  }, {\n    key: 'toImage',\n    value: function toImage(image) {\n      this.use();\n      _shader2.default.getDefaultShader().drawRect();\n      var gl = store.get('gl');\n      var size = this.width * this.height * 4;\n      var pixels = new Uint8Array(size);\n      var c = getCanvas(this);\n      var data = c.createImageData(this.width, this.height);\n      gl.readPixels(0, 0, this.width, this.height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n      for (var i = 0; i < size; i++) {\n        data.data[i] = pixels[i];\n      }\n      c.putImageData(data, 0, 0);\n      image.src = canvas.toDataURL();\n    }\n  }, {\n    key: 'swapWith',\n    value: function swapWith(other) {\n      var temp;\n      temp = other.id;other.id = this.id;this.id = temp;\n      temp = other.width;other.width = this.width;this.width = temp;\n      temp = other.height;other.height = this.height;this.height = temp;\n      temp = other.format;other.format = this.format;this.format = temp;\n    }\n  }]);\n\n  return Texture;\n}();\n\nexports.default = Texture;\n\n\nfunction getCanvas(texture) {\n  if (canvas == null) canvas = document.createElement('canvas');\n  canvas.width = texture.width;\n  canvas.height = texture.height;\n  var c = canvas.getContext('2d');\n  c.clearRect(0, 0, canvas.width, canvas.height);\n  return c;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.simpleShader = simpleShader;\nexports.clamp = clamp;\nexports.splineInterpolate = splineInterpolate;\n\nvar _spline = require('./spline');\n\nvar _spline2 = _interopRequireDefault(_spline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction simpleShader(shader, uniforms, textureIn, textureOut) {\n  (textureIn || this._.texture).use();\n  this._.spareTexture.drawTo(function () {\n    shader.uniforms(uniforms).drawRect();\n  });\n  this._.spareTexture.swapWith(textureOut || this._.texture);\n}\n\nfunction clamp(lo, value, hi) {\n  return Math.max(lo, Math.min(value, hi));\n}\n\nfunction splineInterpolate(points) {\n  var interpolator = new _spline2.default(points);\n  var array = [];\n  for (var i = 0; i < 256; i++) {\n    array.push(clamp(0, Math.floor(interpolator.interpolate(i / 255) * 256), 255));\n  }\n  return array;\n}","module.exports = {\n  calculateMean: function(array) {\n    let sum = array.reduce((accumulator, val) => accumulator + val)\n    let result = sum / array.length\n    return result\n  },\n\n  subtractMeanFromElements: function(array, mean) {\n    let subtractedElements = []\n    for (let element in array) {\n      subtractedElements.push(array[element] - mean)\n    }\n    return subtractedElements\n  },\n\n  squareSubtractedElements: function(array) {\n    return array.map(x => Math.pow(x, 2))\n  },\n\n  addSquaredElements: function(array) {\n    return array.reduce((accumulator, val) => accumulator + val)\n  },\n\n  findVariance: function(squaredsum, originalset) {\n    let n = originalset.length\n    n = n - 1\n    return squaredsum / n\n  },\n\n  takeSquareRootOfVariance: function(variance) {\n    return Math.sqrt(variance)\n  },\n\n  calculateStandardDeviation: function(dataset) {\n    let standarddeviation = this.takeSquareRootOfVariance(\n      this.findVariance(\n        this.addSquaredElements(\n          this.squareSubtractedElements(\n            this.subtractMeanFromElements(\n              dataset,\n              this.calculateMean(dataset),\n              dataset\n            )\n          )\n        ),\n        dataset\n      )\n    )\n    return standarddeviation\n  }\n}\n"],"names":["module","exports","values","reduce","previousValue","currentValue","length","Object","defineProperty","value","default","brightness","contrast","gl","store","get","brightnessContrast","_shader2","_util","simpleShader","call","this","clamp","obj","__esModule","newObj","key","prototype","hasOwnProperty","_interopRequireWildcard","red","green","blue","splineInterpolate","arguments","array","i","splice","_","extraTexture","initFromBytes","use","curves","textures","map","exponent","denoise","Math","max","texSize","width","height","hue","saturation","hueSaturation","amount","noise","sepia","radius","strength","unsharpMask","ensureFormat","texture","drawTo","getDefaultShader","drawRect","triangleBlur","originalTexture","unuse","vibrance","size","vignette","angle","lensBlurPrePass","common","_common","randomShaderFunc","lensBlur0","lensBlur1","lensBlur2","texture1","dir","a","PI","push","sin","cos","power","pow","delta0","delta1","startX","startY","endX","endY","blurRadius","gradientRadius","tiltShift","dx","dy","d","sqrt","start","end","delta","centerX","centerY","zoomBlur","center","undefined","warpShader","uniforms","warp","colorHalftone","scale","dotScreen","edgeWork1","edgeWork2","hexagonalPixelate","ink","_brightnesscontrast","enumerable","_interopRequireDefault","_curves","_denoise","_huesaturation","_noise","_sepia","_unsharpmask","_vibrance","_vignette","_lensblur","_tiltshift","_triangleblur","_zoomblur","_colorhalftone","_dotscreen","_edgework","_hexagonalpixelate","_ink","_bulgepinch","_matrixwarp","_perspective","_swirl","bulgePinch","matrix","inverse","useTextureSpace","matrixWarp","Array","concat","apply","_matrix","getInverse","before","after","getSquareToQuad","b","c","multiply","swirl","canvas","document","createElement","set","getContext","premultipliedAlpha","e","isInitialized","spareTexture","flippedShader","wrap","draw","update","replace","contents","getPixelArray","filters","perspective","edgeWork","lensBlur","_texture2","wrapTexture","loadContentsOf","element","destroy","fromElement","initialize","type","UNSIGNED_BYTE","getExtension","testTexture","RGBA","FLOAT","node","parentNode","insertBefore","removeChild","w","h","Uint8Array","readPixels","func","x0","y0","x1","y1","x2","y2","x3","y3","dx1","dy1","dx2","dy2","dx3","dy3","det","m","f","g","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","Shader","vertexSource","fragmentSource","instance","TypeError","_classCallCheck","vertexAttribute","texCoordAttribute","program","createProgram","attachShader","compileSource","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","defaultShader","deleteProgram","_uniforms","name","useProgram","location","getUniformLocation","toString","uniform1fv","Float32Array","uniform2fv","uniform3fv","uniform4fv","uniformMatrix3fv","uniformMatrix4fv","isNumber","uniform1f","_textures","uniform1i","left","top","right","bottom","viewport","getParameter","VIEWPORT","vertexBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","texCoordBuffer","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","drawArrays","TRIANGLE_STRIP","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","SplineInterpolator","points","n","xa","ya","u","sort","wx","sig","p","ddydx","x","klo","khi","k","assign","Texture","format","id","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","videoWidth","videoHeight","data","deleteTexture","unit","activeTexture","TEXTURE0","callback","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","Error","getCanvas","image","pixels","createImageData","putImageData","src","toDataURL","other","temp","clearRect","textureIn","textureOut","swapWith","interpolator","_spline2","floor","interpolate","lo","hi","min","calculateMean","accumulator","val","subtractMeanFromElements","mean","subtractedElements","squareSubtractedElements","addSquaredElements","findVariance","squaredsum","originalset","takeSquareRootOfVariance","variance","calculateStandardDeviation","dataset"],"sourceRoot":""}